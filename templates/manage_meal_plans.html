<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Manage Meal Plans</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/manage_meal_plans.css') }}">
</head>

<body>

    <div class="dashboard">

        <!-- Sidebar -->
        <aside class="sidebar">
            <h2>Admin</h2>
            <nav>
                <a href="{{ url_for('admin_dashboard') }}">Dashboard</a>
                <a href="{{ url_for('manage_room_types') }}">Room Types</a>
                <a href="{{ url_for('manage_rooms') }}">Rooms</a>
                <a class="active" href="{{ url_for('manage_meal_plans') }}">Meal Plans</a>
                <a href="{{ url_for('manage_market_segments') }}">Segments</a>
                <a href="{{ url_for('admin_view_bookings') }}">Bookings</a>
                <a href="{{ url_for('logout') }}" class="logout">Logout</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">

            <header class="main-header">
                <h1>Manage Meal Plans</h1>
            </header>

            <!-- Add Meal Plan -->
            <div class="card">
                <h2>Add New Meal Plan</h2>
                <form method="post" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="meal_plan_name">Meal Plan Name</label>
                        <input type="text" name="meal_plan_name" id="meal_plan_name" placeholder="e.g., Breakfast Included" required>
                    </div>

                    <div class="form-group">
                        <label for="image_file">Image (optional)</label>
                        <input type="file" name="image_file" id="image_file" accept="image/*">
                    </div>

                    <button class="btn btn-primary" type="submit">Add Meal Plan</button>
                </form>
            </div>

            <!-- Existing Meal Plans -->
            <div class="card">
                <h2>Existing Meal Plans</h2>

                {% if meal_plans %}
                <div class="meal-grid">
                    {% for m in meal_plans %}
                    <div class="meal-card">

                        <div class="meal-img-container">
                            {% if m.image_path %}
                            <img src="{{ url_for('static', filename='uploads/rooms/' + m.image_path) }}" alt="{{ m.meal_plan_name }}" class="meal-img">
                            {% else %}
                            <div class="meal-icon">üçΩÔ∏è</div>
                            {% endif %}
                        </div>

                        <div class="meal-content">
                            <h3>{{ m.meal_plan_name }}</h3>

                            <div class="meal-actions">
                                <a href="{{ url_for('delete_meal_plan', meal_id=m.meal_plan_id) }}" onclick="return confirm('Delete this meal plan?')" class="btn-delete">Delete</a>
                            </div>
                        </div>

                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <div class="empty-state">
                    <div class="meal-icon">üçΩÔ∏è</div>
                    <h3>No Meal Plans Yet</h3>
                    <p>Add a meal plan to get started.</p>
                </div>
                {% endif %}
            </div>

        </main>
    </div>

</body>

</html>